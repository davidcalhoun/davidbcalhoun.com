<h3 id='the_skinny'>The skinny</h3>

<p>Use this:</p>
<pre class='html' name='code'>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"/&gt;
</pre>
<h3 id='introduction'>Introduction</h3>

<p>This series of posts is intended to introduce web developers to basic techniques for designing for the mobile web. It assumes at least a basic knowledge of creating desktop websites.</p>

<h3 id='the_problem'>The problem</h3>

<p>Ok, so you&#8217;ve settled down to learn how to write a website for a mobile device using your current knowledge of building desktop websites. So you start off with some pretty basic HTML:</p>
<pre class='html' name='code'>&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Hello world!&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    
    
&lt;p&gt;Hello world!&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Ok! You can&#8217;t get much simpler than that. You check it out and it looks good on all the desktop browsers, since there&#8217;s really no opportunity yet for any cross-browser inconsistencies. And then you check it out on your mobile device:<br /><div class='wp-caption aligncenter' id='attachment_199' style='width: 320px'>
  <a href='http://davidbcalhoun.com/wp-content/uploads/2010/05/hello-world-iphone.png'><img alt='' class='size-full wp-image-199' height='480' src='http://davidbcalhoun.com/wp-content/uploads/2010/05/hello-world-iphone.png' title='hello-world-iphone' width='320' /></a><p class='wp-caption-text'>
    Hello World on the iPhone
  </p>
</div></p>

<p>Doh! Where&#8217;d we go wrong? The text is obviously way too small to read without zooming in.</p>

<p>This is the first lesson in making mobile websites: width is your enemy. This is the first of many countless problems with device width you will encounter. Fair warning.</p>

<p>If you think about it logically, it seems to make sense: mobile Safari took a look at the page and assumed it was a document designed for the desktop, which is true of the vast majority of websites. So it gave the website a width of 980 pixels and presented it zoomed out. Which is why we can&#8217;t read anything until we zoom into the page.</p>

<h3 id='viewport'>Viewport</h3>

<p>But this is no good! What we need to do is tell the browser that this webpage is optimized for mobile. And this is where the viewport metatag comes into the picture.</p>

<p>Now we tweak our Hello World just a bit&#8230;</p>
<pre class='html' name='code'>&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Hello world!&lt;/title&gt;

    &lt;meta name="viewport" content="width=device-width"/&gt;
&lt;/head&gt;

&lt;body&gt;
    
&lt;p&gt;Hello world!&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre>
<p>And we get this&#8230;<br /><div class='wp-caption aligncenter' id='attachment_203' style='width: 320px'>
  <a href='http://davidbcalhoun.com/wp-content/uploads/2010/05/hello-world-viewport-iphone.png'><img alt='' class='aligncenter size-full wp-image-203' height='480' src='http://davidbcalhoun.com/wp-content/uploads/2010/05/hello-world-viewport-iphone.png' title='hello-world-viewport-iphone' width='320' /></a><p class='wp-caption-text'>
    Hello World with the Viewport tag
  </p>
</div></p>

<p>Much better! By setting the viewport width equal to &#8220;device-width&#8221;, we&#8217;re essentially telling it that the device width is 320px, not the default value of 980px that it guessed. If we set width=320 it would achieve the same result on the iPhone and a few other smartphones, but not all phones have this exact width, so it&#8217;s best to simply set device-width and let the mobile browser figure it out.</p>

<p>This viewport metatag is supported on many smartphones, from iPhone to Android to webOS (Palm) to even Internet Explorer Mobile, Opera Mini and Opera Mobile.</p>

<p>At the end of the day here&#8217;s what the standard viewport looks like, as grabbed from <a href='http://m.yahoo.com'>m.yahoo.com</a>:</p>
<pre class='html' name='code'>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/&gt;
</pre>
<p>EDIT: It&#8217;s been discussed a bit, and it seems that preventing the user from scaling the page (pinch zooming) isn&#8217;t necessarily desirable. So here&#8217;s a version of the tag that allows the user to pinch zoom:</p>
<pre class='html' name='code'>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"/&gt;
</pre>
<h3 id='more_fun_with_the_viewport_tag'>More fun with the viewport tag</h3>

<p>In addition to solving our biggest concern with the width of the content, the viewport tag has more options to play with:</p>
<table class='datatable-medium'>
  <tr>
    <td>
      Property
    </td>
    
    <td>
      Description
    </td>
  </tr>
  
  <tr>
    <td>
      width
    </td>
    
    <td>
      Width of the viewport in pixels (or device-width). If width isn&#8217;t set, it defaults to a desktop size (980px on mobile Safari).
    </td>
  </tr>
  
  <tr>
    <td>
      height
    </td>
    
    <td>
      Height of the viewport in pixels (or device-height). Generally you don&#8217;t need to worry about setting this property.
    </td>
  </tr>
  
  <tr>
    <td>
      initial-scale
    </td>
    
    <td>
      (0 to 10.0) Multiplier that sets the scale of the page after its initial display. Safe bet: if you need to set it, set it to 1.0. Larger values = zoomed in, smaller values = zoomed out
    </td>
  </tr>
  
  <tr>
    <td>
      minimum-scale
    </td>
    
    <td>
      (0 to 10.0) The minimum multiplier the user can &#8220;zoom out&#8221; to. Defaults to 0.25 on mobile Safari.
    </td>
  </tr>
  
  <tr>
    <td>
      maximum-scale
    </td>
    
    <td>
      (0 to 10.0) The minimum multiplier the user can &#8220;zoom in&#8221; to. Defaults to 1.6 on mobile Safari.
    </td>
  </tr>
  
  <tr>
    <td>
      user-scalable
    </td>
    
    <td>
      (yes/no) Whether to allow a user from scaling in/out (zooming in/out). Default to &#8220;yes&#8221; on mobile Safari.
    </td>
  </tr>
</table>
<h3 id='feature_phones_when_viewport_isnt_available'>Feature phones: when viewport isn&#8217;t available&#8230;</h3>

<p>Unfortunately the viewport tag is relatively new and as such isn&#8217;t universally supported, especially if you&#8217;re working on older feature phones. But there are some older methods at your disposal for identifying your website as optimized for mobile:</p>
<pre class='html' name='code'>&lt;meta name="HandheldFriendly" content="true"/&gt;
</pre>
<p>This tag was originally used to identify mobile content in AvantGo browsers, but has now been made the general standard for identifying mobile websites. However, it&#8217;s unknown what range of browsers support this meta tag.</p>

<p>Another tag at your disposal is a Windows-proprietary meta tag that also took root and eventually became used as another means of identifying mobile content. The drawback with this tag is that a specific width must be given, which doesn&#8217;t make it as flexible as the viewport tag (see above). Again, it&#8217;s unknown what the support for this tag is:</p>
<pre class='html' name='code'>&lt;meta name="MobileOptimized" content="320"/&gt;
</pre>
<p>Lastly, your website will be identified as a mobile optimized site if your doctype is either XHTML-MP or WML. However, this is becoming less and less the case these days, as browsers begin to support good old HTML4.01 and HTML5+.</p>

<p>(info for this section comes from <a href='http://www.amazon.com/gp/product/B003U890OQ/ref=pd_lpo_k2_dp_sr_1?pf_rd_p=486539851&amp;#038;pf_rd_s=lpo-top-stripe-1&amp;#038;pf_rd_t=201&amp;#038;pf_rd_i=143022620X&amp;#038;pf_rd_m=ATVPDKIKX0DER&amp;#038;pf_rd_r=017307F07YKBPJX46DXB'>Beginning Smartphone Web Development</a>)</p>

<h3 id='custom_android_properties'>Custom Android properties</h3>

<p><a href='http://developer.android.com/reference/android/webkit/WebView.html'>The official Android documentation</a> lists a special property they&#8217;ve added to the meta tag: target-densitydpi. This property essentially allows developers to specify which screen resolution the page has been developed for, or more specifically how to handle the scaling of media such as images.</p>

<p>Here&#8217;s an example of the tag in action:</p>
<pre class='HTML' name='code'>&lt;meta name="viewport" content="target-densitydpi=device-dpi" /&gt;
</pre>
<h3 id='references'>References</h3>

<p><a href='http://developer.apple.com/safari/library/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html'>Safari HTML Reference: Supported Meta Tags</a><br /><a href='http://learnthemobileweb.com/tag/mobile-web-development/page/3/'>Mobile META Tags</a></p>

<h3 id='more_from_the_mobile_web_series'>More from the Mobile Web series:</h3>

<p><a href='http://davidbcalhoun.com/2010/viewport-metatag'>Part 1: The viewport metatag</a><br /><a href='http://davidbcalhoun.com/2010/the-mobile-developers-toolkit-mobile-web-part-2'>Part 2: The mobile developer’s toolkit</a><br /><a href='http://davidbcalhoun.com/2010/designing-buttons-that-dont-suck'>Part 3: Designing buttons that don’t suck</a><br /><a href='http://davidbcalhoun.com/2010/on-designing-a-mobile-webpage'>Part 4: On designing a mobile webpage</a><br /><a href='http://davidbcalhoun.com/2010/using-mobile-specific-html-css-javascript'>Part 5: Using mobile-specific HTML, CSS, and JavaScript</a><br /><a href='http://davidbcalhoun.com/2010/dealing-with-device-orientation'>Part 6: Dealing with device orientation</a><br /><a href='http://davidbcalhoun.com/2010/mobile-javascript-libraries-and-frameworks'>Part 7: Mobile JavaScript libraries and frameworks</a></p>