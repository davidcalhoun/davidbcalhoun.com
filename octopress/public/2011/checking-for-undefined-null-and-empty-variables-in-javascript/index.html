<!doctype html>
<html lang="en-US">
<head>
	<meta charset="utf-8">
	<title>Checking for undefined, null, and empty variables in JavaScript  | David Calhoun</title>

	<meta name="author" content="David Calhoun">

<meta name="description" content="Checking for Undefined, Null, and Empty Variables in JavaScript Feb 11th, 2011 12:00 am In general it’s a good practice to check for the existence &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="David Calhoun" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="/javascripts/html5.js"></script><![endif]-->
	

</head>



<body>
	<header id="header" class="inner" role="banner" aria-labelledby="header_title"><h1><a href="/" id="header_title">David Calhoun</a></h1>
<span class="tagline"></span>

</header>
	<div id="content" class="inner" role="main"><article class="post" role="main" itemscope itemType="http://schema.org/BlogPosting">
	<meta itemprop="inLanguage" content="en-US" />
	<span itemscope itemprop="author" itemType="https://schema.org/Person">
		<meta itemprop="name" content="David Calhoun" />
	</span>
	<span itemscope itemprop="publisher" itemType="https://schema.org/Organization">
		<meta itemprop="name" content="David Calhoun" />
		<meta itemprop="url" content="http://themaingate.net" />
		<meta itemprop="logo" content="http://themaingate.net/david-calhoun-logo.png">
	</span>
	<meta itemprop="image" content="http://themaingate.net/david-calhoun-logo.png">
	<header>
		<h2 class="title" itemprop="headline"><a itemprop="url" href="">Checking for Undefined, Null, and Empty Variables in JavaScript</a></h2>
		



<span class="meta date" itemprop="datePublished dateModified" content="2011-02-11 00:00:00 -0800" datetime="2011-02-11 00:00:00 -0800"><time class='entry-date' datetime='2011-02-11'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2011</span></span> <span class='time'>12:00 am</span></time></span>
	</header>
	<div class="entry-content" itemprop="articleBody"><p>In general it’s a good practice to check for the existence of something before blindly using it by faith and hoping it works. There are various times during the execution of scripts when a variable may not be defined, it may be null, or it might be an empty string. These are three things that are easily conflated. A good way to look at this is thinking of these as having increasing levels of existence (getting a bit philosophical here for a moment…):</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">foo0</span><span class="p">;</span>             <span class="c1">// existence level 0 (creates the error &quot;not defined&quot;)</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">foo1</span><span class="p">;</span>         <span class="c1">// existence level 1 (&quot;undefined&quot; - variable declared but not defined/initialized)</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">foo2</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>  <span class="c1">// existence level 2 (variable initialized, but isn&#39;t an Object, Number, String, etc)</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">foo3</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>    <span class="c1">// existence level 3 (variable initialized to an empty String)</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">foo4</span> <span class="o">=</span> <span class="s2">&quot;bar&quot;</span><span class="p">;</span> <span class="c1">// existence level 4 (variable initialized to String &quot;foo&quot;)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Generally it would be handy if we had some way to filter out everything but the very last line. We simply want to check for these cases without the script entirely blowing up, as it does with the first line:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">foo</span><span class="p">;</span>  <span class="c1">// ReferenceError: foo is not defined</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>We’re not particularly doing anything useful with foo here, but notice that the script fails out anyway. At this point any code that follows will not be executed. Your first instinct might be “Oh! I know how to contain these errors! We’ll use a try-catch!”:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">try</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">foo</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="p">;</span>  <span class="c1">// &quot;foo is not defined&quot;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The script still fails, but not critically, so your script continues to execute. But this turns out to aversely affect performance. The basic lesson here is that try-catch can be useful in some situations, but shouldn’t be used where alternatives are available.</p>

<h3 id="typeof-foo">typeof foo</h3>

<p>JavaScript has quite a useful remedy for this:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">typeof</span> <span class="nx">foo</span><span class="p">;</span> <span class="c1">// &quot;undefined&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Unlike everything else in JavaScript, typeof will deal with whatever you throw at it, including undefined variables. So you can use it as a simple check before using a variable that might not exist:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">foo</span> <span class="o">!==</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// do something with foo</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Note that this is easy to confuse with the <code>undefined</code> keyword, which in this case doesn’t help us one bit, as it gives us a fatal error:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">if</span><span class="p">(</span><span class="nx">foo</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// ReferenceError: foo is not defined</span>
</span><span class="line">
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>This filters out our first two cases, since they both evaluate to “undefined”:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">typeof</span> <span class="nx">foo</span><span class="p">;</span> <span class="c1">// &quot;undefined&quot;</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
</span><span class="line"><span class="k">typeof</span> <span class="nx">bar</span><span class="p">;</span> <span class="c1">// &quot;undefined&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>But this turns out not to work well for our other conditions, which evaluate differently:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">typeof</span> <span class="kc">null</span><span class="p">;</span>  <span class="c1">// &quot;object&quot; (what?!)</span>
</span><span class="line"><span class="k">typeof</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>    <span class="c1">// &quot;string&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>So we need to add other “if” conditions to check.. but there turns out to be a better way!</p>

<h3 id="exploiting-loose-typing">Exploiting loose typing</h3>

<p>JavaScript is a loosely typed language, which means that it will “automagically” cast variables into other types when necessary (i.e. when adding a Number to a String), sometimes resulting in the unexpected. For instance, whenever we use the “if” statement, the expected input is a Boolean true/false value. If JavaScript gets anything other than a Boolean, such as a String or a Number, instead of blowing up completely (as in strictly typed languages such as C), it’ll cast the variable into a Boolean for you.</p>

<p>“How handy!” you might think. Except in the following unexpected cases:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">if</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// this will run because &quot;0&quot; is true</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="k">if</span><span class="p">(</span><span class="s2">&quot;false&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// this will run because &quot;false&quot; is true</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>To see what JavaScript will cast a value to without having to use an <code>if</code> statement, we could create a new Boolean value with the following:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nb">Boolean</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>    <span class="c1">// false</span>
</span><span class="line"><span class="nb">Boolean</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">);</span>  <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Or we can use the less intuitive but quick way of using double exclamation marks (this will probably award you cleverness points in someone’s book.. hopefully those points actually matter):</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">!!</span><span class="mi">0</span><span class="p">;</span>    <span class="c1">// false</span>
</span><span class="line"><span class="o">!!</span><span class="s2">&quot;0&quot;</span><span class="p">;</span>  <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>This works because !foo converts foo to a Boolean but negates its original value, turning it on its head. !!foo converts foo to a Boolean and flips it back to its expected value, which is the same value that’s evaluated by our <code>if</code> statement.</p>

<p>Using this ALMOST gives us the answer we’re looking for:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">!!</span><span class="nx">foo0</span><span class="p">;</span> <span class="c1">// ReferenceError: foo0 is not defined</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">foo1</span><span class="p">;</span>
</span><span class="line"><span class="o">!!</span><span class="nx">foo1</span><span class="p">;</span> <span class="c1">// false</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">foo2</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</span><span class="line"><span class="o">!!</span><span class="nx">foo2</span><span class="p">;</span> <span class="c1">// false (same as !!null)</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">foo3</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
</span><span class="line"><span class="o">!!</span><span class="nx">foo3</span><span class="p">;</span> <span class="c1">// false (same as !!&quot;&quot;)</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">foo4</span> <span class="o">=</span> <span class="s2">&quot;bar&quot;</span><span class="p">;</span>
</span><span class="line"><span class="o">!!</span><span class="nx">foot4</span><span class="p">;</span> <span class="c1">// true (same as !!&quot;bar&quot;)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Excluding the first example, now we can test for uninitialized variables (foo1), null variables (foo2), and empty strings (foo3) all with just an <code>if</code> statement:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">if</span><span class="p">(</span><span class="nx">foo1</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// do something with foo1</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="k">if</span><span class="p">(</span><span class="nx">foo2</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// do something with foo2</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="k">if</span><span class="p">(</span><span class="nx">foo3</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// do something with foo3</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Dang… so close! But we can’t yet test the first case without an error:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">if</span><span class="p">(</span><span class="nx">foo0</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// ReferenceError: foo0 is not defined</span>
</span><span class="line">
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="foo-versus-windowfoo-and-thisfoo">foo versus window.foo and this.foo</h3>

<p>The secret to our solution lies in how JavaScript handles undefined variables versus undefined properties. Here’s a quick reminder on the difference between the two:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="c1">// variable foo</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="c1">// property bar (and object variable foo)</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{};</span>  <span class="c1">// create an empty object to add bar too</span>
</span><span class="line"><span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The difference between these makes all the difference whether a fatal error occurs:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">foo</span><span class="p">;</span>  <span class="c1">// ReferenceError: foo is not defined</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{};</span>
</span><span class="line"><span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span>  <span class="c1">// undefined</span>
</span><span class="line"><span class="nx">foo</span><span class="p">.</span><span class="nx">blah</span><span class="p">;</span> <span class="c1">// undefined</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>We can randomly invent and check any property of <code>foo</code> we want, and the code will keep chugging along:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{};</span>
</span><span class="line"><span class="nx">foo</span><span class="p">.</span><span class="nx">something</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="k">if</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// undefined, interpreted as false (same as !!foo.bar)</span>
</span><span class="line">  <span class="c1">// never runs</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="k">if</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">something</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">foo</span><span class="p">.</span><span class="nx">something</span><span class="p">;</span>  <span class="c1">// &quot;hello&quot;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Now comes the magic. If you know anything about JavaScript running in the browser, you know that all global variables are part of the <code>window</code> object. This means <code>foo</code> and <code>window.foo</code> are equivalent:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="nx">foo</span> <span class="o">===</span> <span class="nb">window</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span>  <span class="c1">// true</span>
</span><span class="line">
</span><span class="line"><span class="c1">// &quot;this&quot; is another bag of worms, but note this anyway</span>
</span><span class="line"><span class="k">this</span><span class="p">.</span><span class="nx">foo</span> <span class="o">===</span> <span class="nb">window</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>So technically our variable foo is a <em>property</em> of the window object. So we should be able to check for any arbitrary variable in the window scope now!</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nb">window</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span>  <span class="c1">// undefined (not a fatal error!)</span>
</span><span class="line">
</span><span class="line"><span class="c1">// even though we&#39;re checking for the same thing, we get a fatal error…</span>
</span><span class="line"><span class="nx">foo</span><span class="p">;</span>  <span class="c1">// ReferenceError: foo is not defined</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="practical-uses">Practical uses</h3>

<p>Now as long as we have a global entry point for our code, we can write our code in such a way that it won’t ever give us a fatal error if our variables aren’t yet defined:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">if</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">foo</span> <span class="o">&amp;&amp;</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">();</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Of course nothing happens, because we haven’t defined foo. But why doesn’t foo.bar give us a fatal error? Because the first test, <code>window.foo</code> failed out. It would be useless processing for the JavaScript engine to also evaluate the second statement, because the end result will still be the same (false &#038;&#038; true results in false, false &#038;&#038; false results in false). So it doesn’t get so far as <code>foo.bar</code>.</p>

<p>And now the code will work properly when we hook up our code to our <code>foo</code> global namespace:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">bar</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;hello world&quot;</span><span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="k">if</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">foo</span> <span class="o">&amp;&amp;</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">();</span>  <span class="c1">// &quot;hello world&quot;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="shorthand">Shorthand</h3>

<p>It’s becoming common to see an abbreviation for the above code. Check out the following two methods, which accomplish the same thing:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="c1">// Method 1</span>
</span><span class="line"><span class="k">if</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">foo</span> <span class="o">&amp;&amp;</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">();</span>  <span class="c1">// &quot;hello world&quot;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Method 2</span>
</span><span class="line"><span class="nb">window</span><span class="p">.</span><span class="nx">foo</span> <span class="o">&amp;&amp;</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">());</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Don’t get too scared.. these blocks of code are equivalent. Method 2 is shorter, but it simply goes something like this: if window.foo isn’t set, stop evaluating this line (just as above in the <code>if</code> statement). Otherwise, if foo.bar exists then execute the code in parentheses, which gives us an alert (“hello world”);</p>

<p>Just a word of caution about using Method 2: it’s obviously less clear what’s going on here. Your own cleverness might actually result in unnecessary confusion, especially of other people work in the same code base and they’re at different levels of understanding. In these cases we should first strive to be clear, and then only clever if it’s not at the expense of being clear.</p>

<p>It’s also likely that a code minifier would take care of this cleverness for us at build time, giving us the best of both worlds.</p>
</div>



<section id="comment">
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>

</article></div>
	<footer id="footer" class="inner" role="contentinfo"><br>
<br>
<br>
<br>
&copy; 2016
<span itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="David Calhoun"><a href="mailto:david.b.calhoun@gmail.com" itemprop="email">David Calhoun</a> (<a href="https://twitter.com/franksvalli" itemprop="url">@franksvalli</a>) - <a href="https://www.linkedin.com/in/davidcalhoun" itemprop="url">LinkedIn</a> - <a href="http://themaingate.net/resume/" itemprop="url">Resume</a></span></footer>
	<!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="/javascripts/slash.js"></script> -->
<!-- <script src="/javascripts/hyphenator.js"></script> -->


<script type="text/javascript">
      var disqus_shortname = 'davidbcalhoun';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://davidbcalhoun.com/2011/checking-for-undefined-null-and-empty-variables-in-javascript';
        var disqus_url = 'http://davidbcalhoun.com/2011/checking-for-undefined-null-and-empty-variables-in-javascript';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>




<script src="/javascripts/main.js" defer></script>
<!-- <script src="/javascripts/negative-scroll-blur.js"></script> -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5530615-3', 'davidbcalhoun.com');
  ga('send', 'pageview');

</script>

</body>
</html>
