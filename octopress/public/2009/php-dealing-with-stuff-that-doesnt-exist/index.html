<!doctype html>
<html lang="en-US">
<head>
	<meta charset="utf-8">
	<title>PHP: dealing with stuff that doesn&#8217;t exist  | David Calhoun</title>

	<meta name="author" content="David Calhoun">

<meta name="description" content="Introduction As the application you’re coding becomes more and more complex, there’s more of an opportunity for things to go wrong in all sorts of &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="David Calhoun" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="/javascripts/html5.js"></script><![endif]-->
	

</head>



<body>
	<header id="header" class="inner" role="banner" aria-labelledby="header_title"><h1><a href="/" id="header_title">David Calhoun</a></h1>
<span class="tagline"></span>

</header>
	<div id="content" class="inner" role="main"><article class="post" role="main">
	<header>
		<h2 class="title">PHP: Dealing With Stuff That Doesn&#8217;t Exist</h2>
		<div class="meta date">








  


<time datetime="2009-12-01T00:00:00-08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content"><h3 id="introduction">Introduction</h3>

<p>As the application you’re coding becomes more and more complex, there’s more of an opportunity for things to go wrong in all sorts of unforseen ways.  One of these problems is variables or functions that don’t exist.  The problem is when you code in such a way that you presuppose their existence. But their existence isn’t guaranteed!</p>

<p>A simple case of this happening is when you’re dealing with user input.  As it turns out, the user didn’t fill out a text field, but the variable for that text field still gets passed around as if it did exist.  More specifically, the variable gets set, but it gets set to an empty string (”).</p>

<h3 id="check-that-the-variable-isn8217t-empty">Check that the variable isn’t empty</h3>

<p>A common way of dealing with this is to check that the variable isn’t empty before using it:</p>

<pre name="code" class="PHP">$name = 'Joe';
if($name != '') {
	echo 'Hello ' . $name;
}</pre>

<p>This turns out to be ALMOST equivalent to the following, which uses <a href="http://www.php.net/manual/en/function.empty.php">empty()</a>:</p>

<pre name="code" class="PHP">$name = 'Joe';
if(!empty($name)) {  // make sure $name isn't empty
    echo 'Hello ' . $name;
}
</pre>

<p>However, as <a href="http://www.zachstronaut.com/posts/2009/02/09/careful-with-php-empty.html">Zachary Johnson</a> points out, empty($variable) evaluates to true when $variable=’0′, so you may want to avoid using this.</p>

<h3 id="check-that-the-variable-is-defined">Check that the variable is defined</h3>

<p>There’s another case we haven’t tried yet: what happens if we haven’t defined the variable?</p>

<pre name="code" class="PHP">error_reporting(E_ALL);
if($name != '') {
	echo 'Hello' . $name;
}</pre>

<p>Nothing catastrophic happens, but if we turn on error reporting, we can see that PHP is a bit upset. We get a notice that the variable $name is undefined, yet we’re trying to evaluate it. The value hasn’t been set yet. And there’s a function to check for that:</p>

<pre name="code" class="PHP">$name = 'Joe';
if(isset($name)) {
	echo 'Variable is set';
}</pre>

<p>We can combine what we’ve learned into the following:</p>

<pre name="code" class="PHP">$name = 'Joe';
if(isset($name) &#038;&#038; $name != '') {
	echo 'Hello ' . $name;
}</pre>

<p>There’s one neat thing here – if $name isn’t set, it evaluates the first part of the If condition as false (isset($name)) and doesn’t even look at the second part of the If condition ($name != ”). This is because it doesn’t matter what comes after, it will still evaluate to false (false &#038;&#038; true evaluates to false, and false &#038;&#038; false evaluates to false). Looking at the rest of the If condition is a waste of CPU cycles, so PHP doesn’t do it!</p>

<p>We can confirm this with the following code, which evaluates to false on the first If condition, then doesn’t even try to evaluate the call to a nonexisting function, and thus gives no errors:</p>

<pre name="code" class="PHP">if(false &#038;&#038; function_that_doesnt_exist()) {
	// do stuff here
}</pre>

<h3 id="check-if-a-function-exists">Check if a function exists</h3>

<p>For functions there’s a similar helper called <a href="http://us3.php.net/manual/en/function.function-exists.php">function_exists()</a>:</p>

<pre name="code" class="PHP">function my_function() { }
if(function_exists('my_function')) {
	my_function();
}</pre>

<p>And it doesn’t matter if your function is declared before or after you call it! Check it out – this works fine:</p>

<pre name="code" class="PHP">if(function_exists('my_function')) {
	my_function();
}
function my_function() { }</pre>

<h3 id="check-if-an-object8217s-method-exists">Check if an object’s method exists</h3>

<p>Similarly to checking if functions exist, we can check for the existence of functions belonging to an object (we call these the object’s methods) with <a href="http://php.net/manual/en/function.method-exists.php">method_exists()</a>:</p>

<pre name="code" class="PHP">// Create a test class
class myClass {
	// Create a test function
	public function my_function() {}
}

// Instantiate the class
$myObject = new myClass();

// Check to see if the test function exists
if(method_exists($myObject, 'my_function')) {
	// Do stuff here
}</pre>

</div>

</article>

	
	<div class="share">
	  <!-- <ul> -->
	  <!--   <li>
  <a href="https://twitter.com/intent/tweet?text=PHP: dealing with stuff that doesn&#8217;t exist by @&url=http://davidbcalhoun.com/2009/php-dealing-with-stuff-that-doesnt-exist" title="Share PHP: dealing with stuff that doesn&#8217;t exist on Twitter">
    <img src="/images/social/twitter.png" />
  </a>
</li>
 -->
	  <!--   <li>
  <a href="https://www.facebook.com/sharer.php?u=http://davidbcalhoun.com/2009/php-dealing-with-stuff-that-doesnt-exist" title="Share PHP: dealing with stuff that doesn&#8217;t exist on Facebook">
    <img src="/images/social/facebook.png" />
  </a>
</li>
 -->
	  <!--   <li>
  <a href="https://plus.google.com/share?url=http://davidbcalhoun.com/2009/php-dealing-with-stuff-that-doesnt-exist" title="Share PHP: dealing with stuff that doesn&#8217;t exist on Google Plus">
    <img src="/images/social/google.png" />
  </a>
</li>
 -->
	  <!-- </ul> -->
	</div>




<section id="comment">
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
	<footer id="footer" class="inner" role="contentinfo"><br>
<br>
<br>
<br>
&copy; 2016
<a href="mailto:david.b.calhoun@gmail.com">David Calhoun</a> (<a href="https://twitter.com/franksvalli">@franksvalli</a>) - <a href="https://www.linkedin.com/in/davidcalhoun">LinkedIn</a> - <a href="http://themaingate.net/resume/">Resume</a></footer>
	<!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="/javascripts/slash.js"></script> -->
<!-- <script src="/javascripts/hyphenator.js"></script> -->


<script type="text/javascript">
      var disqus_shortname = 'davidbcalhoun';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://davidbcalhoun.com/2009/php-dealing-with-stuff-that-doesnt-exist';
        var disqus_url = 'http://davidbcalhoun.com/2009/php-dealing-with-stuff-that-doesnt-exist';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>




<script src="/javascripts/main.js" defer></script>
<!-- <script src="/javascripts/negative-scroll-blur.js"></script> -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5530615-3', 'davidbcalhoun.com');
  ga('send', 'pageview');

</script>

</body>
</html>
