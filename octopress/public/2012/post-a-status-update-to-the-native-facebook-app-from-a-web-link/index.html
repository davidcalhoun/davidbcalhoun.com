
<!DOCTYPE HTML>
<html lang="en-GB">
<head>
	<meta charset="utf-8">
	<title>Post a status update to the native Facebook app from a web link  | David Calhoun's blog</title>

	<meta name="author" content="David Calhoun">

<meta name="description" content="UPDATE 2/25/2013 As of Facebook’s update last year, it appears that many of the old Facebook URL schemes are no longer working…. So this post looks &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="David Calhoun's blog" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="/javascripts/html5.js"></script><![endif]-->
	

</head>



<body>
	<header id="header" class="inner"><h1><a href="/">David Calhoun's blog</a></h1>
<span class="tagline"></span>
<!-- <nav id="main-nav"><ul>
	<li><a href="/about">About</a></li>
	<li><a href="/archives">Archives</a></li>
	<li><a href="/contact">Contact</a></li>
</ul>
</nav> -->
<!-- <nav id="mobile-nav"> -->
<!-- 	<div class="alignleft menu"> -->
<!-- 		<a class="button">Menu</a> -->
<!-- 		<div class="container"><ul>
	<li><a href="/about">About</a></li>
	<li><a href="/archives">Archives</a></li>
	<li><a href="/contact">Contact</a></li>
</ul>
</div> -->
<!-- 	</div> -->
<!-- </nav> -->


</header>

	<div id="content" class="inner"><article class="post">
	<header>
		<h2 class="title">Post a Status Update to the Native Facebook App From a Web Link</h2>
		<div class="meta date">








  


<time datetime="2012-02-02T00:00:00-08:00" pubdate data-updated="true">Feb 2<span>nd</span>, 2012</time></div>
	</header>
	<div class="entry-content"><h3 id="update-2252013"><strong>UPDATE 2/25/2013</strong></h3>

<p><strong>As of Facebook’s update last year, it appears that many of the old <a href="http://wiki.akosma.com/IPhone_URL_Schemes#Facebook">Facebook URL schemes</a> are no longer working…</strong>. So this post looks to be outdated and useless already. <img src="http://davidbcalhoun.com/wp-includes/images/smilies/icon_razz.gif" alt=":P" class="wp-smiley" /> </p>

<h3 id="the-skinny">The skinny</h3>

<p>Copy this code:</p>

<div><table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
</pre></td>
  <td class="code"><pre><span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">fb://publish/profile/me?text=foo</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Post to Facebook<span class="tag">&lt;/a&gt;</span>
</pre></td>
</tr></table>
</div>

<h3 id="explanation">Explanation</h3>

<p>As you may know, Facebook has a URL scheme</p>

<pre><code>fb://
</code></pre>

<p>which seems to be mainly used by native developers. What most folks don’t realize is that it’s just a URL scheme, like http://, and that we can use it within our mobile browsers! The only problem is that there’s no official documentation for it, so folks have had to hunt down the particulars.</p>

<p>After poking around a bit, you might find <a href="http://stackoverflow.com/questions/5707722/what-are-all-the-custom-url-schemes-supported-by-the-facebook-iphone-app/">this topic on Stackoverflow</a>, which contains a ton of protocols for getting to specific sections of the Facebook app, as well as this interesting snippet:</p>

<div><table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
</pre></td>
  <td class="code"><pre><span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">fb://publish/profile/#ID#?text=#BODY#</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>fb://publish/profile/#ID#?text=#BODY#<span class="tag">&lt;/a&gt;</span>
</pre></td>
</tr></table>
</div>

<p>Trying that as a link does work, but it takes you to this blank screen:</p>

<p><img src="http://davidbcalhoun.com/wp-content/uploads/2012/02/facebook-blank-screen.png" alt="Facebook app - blank screen" title="Facebook app - blank screen" width="320" height="480" class="aligncenter size-full wp-image-878" /></p>

<p>That blank screen isn’t too exciting, but it is peaceful, like a Zen rock garden. Bookmark that page so you can come back later, when you’re overwhelmed by friends flooding your updates screen with baby pictures.</p>

<h3 id="google-to-the-rescue">Google to the rescue!</h3>

<p>Ok, now back to work!</p>

<p>After poking around and trying to find my Facebook id, I inserted it and got the link to work. But that’s not ideal, since everyone has different user ids. And I’m not about to load in all the bloatware that comes with the Facebook API just to find a user id!</p>

<p>After poking around a bit, I found <a href="http://stackoverflow.com/questions/9077817/open-facebook-app-with-text-from-ipad-app">this link</a> which showed this generic pattern:</p>

<div><table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
</pre></td>
  <td class="code"><pre><span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">fb://publish/profile/me</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>fb://publish/profile/me<span class="tag">&lt;/a&gt;</span>
</pre></td>
</tr></table>
</div>

<p>Whoo! And that works! But I still want to prepopulate the status field. We can do that by passing in a URL parameter:</p>

<div><table class="CodeRay"><tr>
  <td class="line-numbers"><pre><a href="#n1" name="n1">1</a>
</pre></td>
  <td class="code"><pre><span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">fb://publish/profile/me?text=foo</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>fb://publish/profile/me?text=foo<span class="tag">&lt;/a&gt;</span>
</pre></td>
</tr></table>
</div>

<p>Clicking on it will get you to a screen which looks like this:</p>

<p><img src="http://davidbcalhoun.com/wp-content/uploads/2012/02/facebook-status-disabled.png" alt="Facebook status update with share button disabled" title="Facebook status update with share button disabled" width="320" height="480" class="aligncenter size-full wp-image-865" /></p>

<p>This, interestingly enough, appears to be the old implementation of the status screen. Here’s what it looks like if you launch it through the button on the native app:</p>

<p><img src="http://davidbcalhoun.com/wp-content/uploads/2012/02/facebook-status-normal.png" alt="Facebook status - what it looks like normally" title="Facebook status - what it looks like normally" width="320" height="480" class="aligncenter size-full wp-image-867" /></p>

<p>Also note that the Share button is disabled until the user types in text themselves. This might be a little confusing for some users, but it’s probably the best way to prevent spam.</p>

<h3 id="detecting-if-the-facebook-app-is-installed">Detecting if the Facebook app is installed</h3>

<p>There’s another issue with <em>folks who don’t have the native Facebook app installed</em>. There doesn’t seem to be a perfect way to detect if the link failed and went nowhere. What we have to work with are <a href="http://stackoverflow.com/questions/7231085/how-to-fall-back-to-marketplace-when-android-custom-url-scheme-not-handled">hacky workarounds involving setTimeout</a>.</p>

<p>It looks like native iOS apps have an ideal URL scheme checking ability with a <a href="http://mobile.tutsplus.com/tutorials/iphone/ios-sdk-working-with-url-schemes/">canOpenURL</a> method. Unfortunately it doesn’t look like the web has this function (yet). Let’s bug Apple to implement it! <img src="http://davidbcalhoun.com/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>

<h3 id="related">Related</h3>

<p>Just a heads up – I’m definitely not the first one to figure this out, as I found a <a href="http://jsfiddle.net/ThinkingStiff/dpUKh/">jsfiddle</a> with the same information, plus an example for posting to Twitter. That was surprisingly the only result! I couldn’t find anyone who blogged about it yet, so here you are!</p>

<p><a href="http://wiki.akosma.com/IPhone_URL_Schemes">More URI schemes for other launching other native apps</a></p>

</div>

</article>

	
	<div class="share">
	  <!-- <ul> -->
	  <!--   <li>
  <a href="https://twitter.com/intent/tweet?text=Post a status update to the native Facebook app from a web link by @&url=http://davidbcalhoun.com/2012/post-a-status-update-to-the-native-facebook-app-from-a-web-link" title="Share Post a status update to the native Facebook app from a web link on Twitter">
    <img src="/images/social/twitter.png" />
  </a>
</li>
 -->
	  <!--   <li>
  <a href="https://www.facebook.com/sharer.php?u=http://davidbcalhoun.com/2012/post-a-status-update-to-the-native-facebook-app-from-a-web-link" title="Share Post a status update to the native Facebook app from a web link on Facebook">
    <img src="/images/social/facebook.png" />
  </a>
</li>
 -->
	  <!--   <li>
  <a href="https://plus.google.com/share?url=http://davidbcalhoun.com/2012/post-a-status-update-to-the-native-facebook-app-from-a-web-link" title="Share Post a status update to the native Facebook app from a web link on Google Plus">
    <img src="/images/social/google.png" />
  </a>
</li>
 -->
	  <!-- </ul> -->
	</div>




<section id="comment">
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
	<footer id="footer" class="inner"><br>
<br>
<br>
<br>
&copy; 2014

    David Calhoun

</footer>
	<!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="/javascripts/slash.js"></script> -->
<!-- <script src="/javascripts/hyphenator.js"></script> -->


<script type="text/javascript">
      var disqus_shortname = 'davidbcalhoun';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://davidbcalhoun.com/2012/post-a-status-update-to-the-native-facebook-app-from-a-web-link';
        var disqus_url = 'http://davidbcalhoun.com/2012/post-a-status-update-to-the-native-facebook-app-from-a-web-link';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>




<script src="/javascripts/main.js"></script>
<!-- <script src="/javascripts/negative-scroll-blur.js"></script> -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5530615-3', 'davidbcalhoun.com');
  ga('send', 'pageview');

</script>

</body>
</html>
