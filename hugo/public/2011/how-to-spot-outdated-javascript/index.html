<!DOCTYPE html>
<html lang="en-US">
    <head>
         
        <meta charset="utf-8">
        <meta name="author" content="David Calhoun">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>How to spot outdated JavaScript - David Calhoun&#39;s blog</title>
        
        <style>

    html body {
        font-family: 'Roboto', sans-serif;
    }

</style>


 
<link rel="stylesheet" href="https://www.davidbcalhoun.com/css/main.min.db1c28f08ef53ffc18b871ca2d7f92752986edaaf90eab68dd09938ad708b462.css">
 <link rel="preconnect" href="https://ssl.gstatic.com">
<link rel="preconnect" href="https://a.disquscdn.com">
<link rel="preconnect" href="https://cdnjs.cloudflare.com">
<link rel="preconnect" href="https://accounts.google.com">
<link rel="preconnect" href="https://apis.google.com">




    <script async>
function initSyntaxHighlighting() {
    if (!hljs) return;

    hljs.initHighlighting();

    
    
    hljs.registerLanguage("css",function(e){var c="[a-zA-Z-][a-zA-Z0-9_-]*",t={b:/[A-Z\_\.\-]+\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[e.ASM,e.QSM]}]},e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[e.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",i:/:/,c:[{cN:"keyword",b:/\w+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[e.ASM,e.QSM,e.CSSNM]}]},{cN:"selector-tag",b:c,r:0},{b:"{",e:"}",i:/\S/,c:[e.CBCM,t]}]}});

    
    
    hljs.registerLanguage("javascript",function(e){var r="[A-Za-z$_][0-9A-Za-z$_]*",t={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},a={cN:"number",v:[{b:"\\b(0[bB][01]+)"},{b:"\\b(0[oO][0-7]+)"},{b:e.CNR}],r:0},n={cN:"subst",b:"\\$\\{",e:"\\}",k:t,c:[]},c={cN:"string",b:"`",e:"`",c:[e.BE,n]};n.c=[e.ASM,e.QSM,c,a,e.RM];var s=n.c.concat([e.CBCM,e.CLCM]);return{aliases:["js","jsx"],k:t,c:[{cN:"meta",r:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},e.ASM,e.QSM,c,e.CLCM,e.CBCM,a,{b:/[{,]\s*/,r:0,c:[{b:r+"\\s*:",rB:!0,r:0,c:[{cN:"attr",b:r,r:0}]}]},{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{cN:"function",b:"(\\(.*?\\)|"+r+")\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:r},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:t,c:s}]}]},{b:/</,e:/(\/\w+|\w+\/)>/,sL:"xml",c:[{b:/<\w+\s*\/>/,skip:!0},{b:/<\w+/,e:/(\/\w+|\w+\/)>/,skip:!0,c:[{b:/<\w+\s*\/>/,skip:!0},"self"]}]}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[e.inherit(e.TM,{b:r}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:s}],i:/\[|%/},{b:/\$[(.]/},e.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},e.UTM]},{bK:"constructor",e:/\{/,eE:!0}],i:/#(?!!)/}});
}

function loadScripts() {
    var scripts = [
        {
            src: 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js',
            callback: function() {
                initSyntaxHighlighting();
            }
        }
    ];

    scripts.forEach(function(script) {
        var elt = document.createElement('script');
        elt.setAttribute('async', '');
        elt.setAttribute('defer', '');
        elt.setAttribute('src', script.src);
        elt.addEventListener('load', script.callback, true);

        document.head.appendChild(elt);
    });
}
loadScripts()
    </script>


    <script>







    </script>





 <meta name="generator" content="Hugo 0.59.0" />
        

        
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-5530615-3"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments)};
          gtag('js', new Date());

          gtag('config', 'UA-5530615-3');
        </script>
        
        <meta name="description" content="Personal blog of photographer and web developer David Calhoun."/>
        <meta name="theme-color" content="#fff">
        <link rel="canonical" href="https://www.davidbcalhoun.com/2011/how-to-spot-outdated-javascript/">
        <link href="/index.xml" rel="alternate" type="application/rss+xml" title="David Calhoun&#39;s blog" />
        <link href="/index.xml" rel="feed" type="application/rss+xml" title="David Calhoun&#39;s blog" />

    </head>

    

    <body>
         
        <nav class="navbar">

            <div class="navbar-header">
                <a class="navbar-brand" href="https://www.davidbcalhoun.com/">David Calhoun&#39;s blog</a>
            </div>

            
                <ul class="navbar-links">
                    
                        <li class="navbar-icon"><a aria-label="Send an email" title="Send an email" href="mailto:david.b.calhoun@gmail.com"><svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1664 1504v-768q-32 36-69 66-268 206-426 338-51 43-83 67t-86.5 48.5-102.5 24.5h-2q-48 0-102.5-24.5t-86.5-48.5-83-67q-158-132-426-338-37-30-69-66v768q0 13 9.5 22.5t22.5 9.5h1472q13 0 22.5-9.5t9.5-22.5zm0-1051v-24.5l-.5-13-3-12.5-5.5-9-9-7.5-14-2.5h-1472q-13 0-22.5 9.5t-9.5 22.5q0 168 147 284 193 152 401 317 6 5 35 29.5t46 37.5 44.5 31.5 50.5 27.5 43 9h2q20 0 43-9t50.5-27.5 44.5-31.5 46-37.5 35-29.5q208-165 401-317 54-43 100.5-115.5t46.5-131.5zm128-37v1088q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-1088q0-66 47-113t113-47h1472q66 0 113 47t47 113z"/></svg></i></a></li>
                    
                        <li class="navbar-icon"><a aria-label="Home Page" title="Home Page" href="https://www.themaingate.net/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"/></svg></i></a></li>
                    
                        <li class="navbar-icon"><a aria-label="Twitter" title="Twitter" href="https://twitter.com/franksvalli/"><svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></i></a></li>
                    
                        <li class="navbar-icon"><a aria-label="Github" title="Github" href="https://github.com/davidcalhoun/"><svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M896 128q209 0 385.5 103t279.5 279.5 103 385.5q0 251-146.5 451.5t-378.5 277.5q-27 5-40-7t-13-30q0-3 .5-76.5t.5-134.5q0-97-52-142 57-6 102.5-18t94-39 81-66.5 53-105 20.5-150.5q0-119-79-206 37-91-8-204-28-9-81 11t-92 44l-38 24q-93-26-192-26t-192 26q-16-11-42.5-27t-83.5-38.5-85-13.5q-45 113-8 204-79 87-79 206 0 85 20.5 150t52.5 105 80.5 67 94 39 102.5 18q-39 36-49 103-21 10-45 15t-57 5-65.5-21.5-55.5-62.5q-19-32-48.5-52t-49.5-24l-20-3q-21 0-29 4.5t-5 11.5 9 14 13 12l7 5q22 10 43.5 38t31.5 51l10 23q13 38 44 61.5t67 30 69.5 7 55.5-3.5l23-4q0 38 .5 88.5t.5 54.5q0 18-13 30t-40 7q-232-77-378.5-277.5t-146.5-451.5q0-209 103-385.5t279.5-279.5 385.5-103zm-477 1103q3-7-7-12-10-3-13 2-3 7 7 12 9 6 13-2zm31 34q7-5-2-16-10-9-16-3-7 5 2 16 10 10 16 3zm30 45q9-7 0-19-8-13-17-6-9 5 0 18t17 7zm42 42q8-8-4-19-12-12-20-3-9 8 4 19 12 12 20 3zm57 25q3-11-13-16-15-4-19 7t13 15q15 6 19-6zm63 5q0-13-17-11-16 0-16 11 0 13 17 11 16 0 16-11zm58-10q-2-11-18-9-16 3-14 15t18 8 14-14z"/></svg></i></a></li>
                    
                        <li class="navbar-icon"><a aria-label="LinkedIn" title="LinkedIn" href="https://www.linkedin.com/in/davidcalhoun/"><svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></i></a></li>
                    
                </ul>
            

        </nav>


<main role="main" itemscope itemType="https://schema.org/BlogPosting">
    <meta itemprop="inLanguage" content="en-US" />
    <span itemscope itemprop="author" itemType="https://schema.org/Person">
        <meta itemprop="name" content="David Calhoun" />
    </span>
    <span itemscope itemprop="publisher" itemType="https://schema.org/Organization">
        <meta itemprop="name" content="David Calhoun" />
        <meta itemprop="url" content="https://themaingate.net" />
        <meta itemprop="logo" content="https://themaingate.net/david-calhoun-logo.png" />
    </span>
    <meta itemprop="image" content="https://themaingate.net/david-calhoun-logo.png" />

    <article class="item">

    
    
    

    
    

    <meta property="article:section" content="Article" />
    <meta property="article:publisher" content="https://www.davidbcalhoun.com" />
    <meta property="article:published_time" content="January 7, 2011" />
    <meta property="article:modified_time" content="January 7, 2011" />
    
    <meta property="article:tag" content="javascript" />
    <meta property="article:tag" content="programming" />
    <meta property="article:tag" content="webdev" />
    
    <meta property="og:locale" content="en">
    <meta property="og:site_name" content="David Calhoun's Blog" />
    <meta property="og:updated_time" content="January 7, 2011" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="/2011/how-to-spot-outdated-javascript/" />
    <meta property="og:title" content="How to spot outdated JavaScript" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="How to spot outdated JavaScript" />
    <meta name="twitter:site" content="@franksvalli" />
    <meta name="twitter:creator" content="@franksvalli" />
    <meta name="twitter:domain" content="davidbcalhoun.com" />
    


    <h1 itemprop="headline" class="meta title">
        <a href="/2011/how-to-spot-outdated-javascript/" itemprop="url">How to spot outdated JavaScript</a>
    </h1>
    <time class="meta date" itemprop="datePublished dateModified" content="January 7, 2011" datetime="January 7, 2011">
        January 7, 2011
    </time>
    <aside class="meta tags">
        <span>Tags: </span>
        
        <a href="https://www.davidbcalhoun.com/tags/javascript"><span class="item-tag">javascript</span></a>
        
        <a href="https://www.davidbcalhoun.com/tags/programming"><span class="item-tag">programming</span></a>
        
        <a href="https://www.davidbcalhoun.com/tags/webdev"><span class="item-tag">webdev</span></a>
        
    </aside>

</article>


    <div class="text-justify">

<h3 id="introduction">Introduction</h3>

<p>Those that are just setting out to learn JavaScript are typically overwhelmed by the amount of online resources to be found about learning JavaScript. Not only this, but every webpage visited presents a potential learning opportunity just by inspecting the source.</p>

<p>However, not all resources are guaranteed to be up-to-date. JavaScript has been around for over a decade, and coding standards have changed drastically over time. While a code snippet may still work in today&rsquo;s browsers, you may unknowingly be using an outdated practice that might eventually lead to a bit of embarrassment.</p>

<p>You may sometimes find these old practices mixed in with good and modern code. It seems that folks might learn new code styles without necessarily casting away all their old habits. So keep in mind not to throw out the baby with the bathwater!</p>

<p>Here&rsquo;s some old practices that should help you spot old outdated code.</p>

<h3 id="global-variables">Global variables</h3>

<pre><code class="language-js">function foo() {  // global function
  greeting = 'Hello' + name;  // global function
};
name = 'James';  // global variable
foo();
</code></pre>

<p>Tons of global variables is a sure sign of outdated code. Ideally you want to aim to have at most one global variable, which is a namespace for all your code to be written under. All variables in your functions should be defined with the &#8216;var&rsquo; keyword to ensure they don&rsquo;t break out of their scope.</p>

<p>Here&rsquo;s an example where we defined one global variable entry point (myNamespace) for our code:</p>

<pre><code class="language-js">var myNamespace = (function() {
  // declare all variables with var
  var greeting, name;
  
  name = 'James';
  
  greeting = function() {
    return 'Hello ' + name;
  };
  
  return {
    greeting: greeting
  }
})();

greeting();              // ERROR: not defined
myNameSpace.greeting();  // 'Hello James'
</code></pre>

<h3 id="commented-cdata-blocks">Commented CDATA blocks</h3>

<pre><code class="language-js">/* &amp;lt;![CDATA[ */
// code here
/* ]]&amp;gt; */
</code></pre>

<p>This appears in old scripts that are presented inline (instead of externally in a separate file). The original purpose of those was to get around HTML validator errors (and to conform to XHTML), but that appears to no longer be an issue with validators today. Also, the usage of HTML validators itself seems to be waning, although they may sometimes be helpful in the development of websites.</p>

<h3 id="document-write">document.write()</h3>

<pre><code class="language-js">document.write('foo');
</code></pre>

<p>The <a href="http://dev.w3.org/html5/spec/apis-in-html-documents.html#document.write">W3C</a>, along with most everyone else, warns against using this, as it may result in overwriting (blanking) the entire page and other unwanted behavior.</p>

<p>It&rsquo;s now used mostly by ads, and <a href="http://www.stevesouders.com/blog/2010/12/15/controljs-part-3/">developers have for years been trying to control them</a>. So don&rsquo;t use it, unless you&rsquo;re trying to prevent ads from using them. In other words, don&rsquo;t use it unless you know what you&rsquo;re doing.</p>

<h3 id="inlined-event-handlers">Inlined event handlers</h3>

<pre><code class="language-html">&lt;a onclick=“myClickFunction()” href=“http://foo.com&quot;&gt;&lt;/a&gt;
&lt;a onmouseover=“myMouseoverFunction()” href=“http://foo.com&quot;&gt;&lt;/a&gt;
&lt;form onsubmit=“mySubmitFunction()” href=“http://foo.com&quot;&gt;&lt;/form&gt;
</code></pre>

<p>This mixes behavior with the actual content, which means when it&rsquo;s time to make changes to the code, you likely have to change both the HTML and the JavaScript, instead of simply just the JavaScript. It also means that you may be serving useless content to users with JavaScript disabled (<a href="http://developer.yahoo.com/blogs/ydn/posts/2010/10/followup-how-many-users-have-javascript-disabled/">they&rsquo;re still out there</a>, believe it or not). This also might have an affect on search engines, that might not be able to access this JavaScript-only content (although crawlers are getting more sophisticated and this may be less of an issue as time progresses).</p>

<p>Instead, the very least you can do is add IDs to each element (or better, use a JavaScript selector engine) and hook into them in your JavaScript, which makes the code much easier to maintain:</p>

<pre><code class="language-html">&lt;a id=“link1” href=“http://foo.com&quot;&gt;&lt;/a&gt;
&lt;a id=“link2” href=“http://foo.com&quot;&gt;&lt;/a&gt;
&lt;form id=“myForm” href=“http://foo.com&quot;&gt;&lt;/form&gt;
</code></pre>

<pre><code class="language-js">(function() {  // sandbox everything
  // variable declarations
  var link1, link2, myForm;

  window.onload = function() {  // or onDOMContentLoaded (wait for DOM to be ready)
    // simple DOM selectors
    link1 = document.getElementById('link1');
    link2 = document.getElementById('link2');
    myForm = document.getElementById('myForm');
    
    // well-supported older event handler
    link1.onclick = function(){
      // code
    };
    
    // better (DOM2)
    link1.addEventListener('click', function(){ // or attachEvent for IE
      // code
    },false);
    
    // etc...
  }

})();
</code></pre>

<p>link1.onclick is widely supported, but there&rsquo;s a few downsides, including the fact you can only add ONE event listener on the element (it will be overwritten if you try to add another). Use addEventListener (attachEvent in IE) instead, or the method of your favorite JavaScript engine.</p>

<p>In any case, the point here is to get the JavaScript out of the HTML and into the rest of your JavaScript.</p>

<h3 id="inline-javascript-in-link-hrefs">Inline JavaScript in link hrefs</h3>

<pre><code class="language-html">&lt;a href=“javascript:doSomething()”&gt;&lt;/a&gt;
&lt;a href=“javascript:void(0)”&gt;&lt;/a&gt;
</code></pre>

<p>Both of these examples commit the same error as above - mixing JavaScript behavior with the HTML content. And the solution is similar: find these links with JavaScript (most simply by adding an id on them) and hook into them there.</p>

<p>The second example brings up a good issue, and a point of contention. Ideally this would be a link to fallback content for users that have JavaScript disabled (and for search engines!), which would be a link to a new page (Flickr is an example of a modern site that uses this approach). For better or worse, however, you might be building a web app that only works with JavaScript, and you might want a link that only exists to kick off a JavaScript event.</p>

<p>You&rsquo;ll find that removing the href value or making it blank (href=&ldquo;&rdquo;) might remove the styling from the link and no longer makes it clickable. An easy fix is to set the href equal to a hash tag (href=&ldquo;#&rdquo;). A side effect might be a &ldquo;jump&rdquo; to the top of the page after clicking the link, which requires and requires e.preventDefault() within the attached event. Href=&ldquo;#&rdquo; may soon become an antipattern (or maybe it is already), since you can also fix this with CSS styling:</p>

<pre><code class="language-css">a { cursor: pointer; }
</code></pre>

<p>This gives the cursor a pointer when the user hovers over the link, even if it&rsquo;s missing the href value.</p>

<p>But again, this isn&rsquo;t generally recommended. It&rsquo;s better to make a non-JavaScript fallback by linking to an actual page, then overriding it with e.preventDefault() for JavaScript-enabled users!</p>

<h3 id="slow-arrays">Slow arrays</h3>

<pre><code class="language-js">var arr = [1, 2, 3, 4, 5];

for(var x in arr) {
  /* code */
}

for(var i=0; i &amp;lt; arr.length; i++) {
  /* code */
}
</code></pre>

<p>For-in loops turn out to be quite slow while going through arrays, so only use them when iterating through properties of an object. The second for loop is much faster, but can be made faster still when we realize what&rsquo;s being evaluated on each iteration:</p>

<pre><code class="language-js">for(1; n; n) {}
</code></pre>

<p>The first statement is evaluated once (1 time) as the loop is initialized, and the second and third parts are evaluated on each run through the loop (n times). Because of this, just as removing fluff from the main body of the loop itself, we would also do well to remove fluff from these statements themselves. As it turns out, it&rsquo;s quite slow finding the length of the array (arr.length) on each pass, and it&rsquo;s not necessary to do it more than once since it&rsquo;s not changing. So we can &ldquo;cache&rdquo; the length in a variable in the initializer:</p>

<pre><code class="language-js">for(var i=0, len=arr.length; i &amp;lt; len; i++) {
  // code
}
</code></pre>

<p>And faster yet is a while loop (keep in mind that it will run backwards), which stops when the counter hits 0, which is falsy, causing the loop to stop:</p>

<pre><code class="language-js">var i = arr.length;
while(i--) {
  // code
}
</code></pre>

<h3 id="new-object-new-array-new-function-etc">new Object(), new Array(), new Function(), etc</h3>

<pre><code class="language-js">var obj  = new Object();
var arr  = new Array();
var func = new Function(&quot;param1&quot;, &quot;param2&quot;, &quot;return true;&quot;);
</code></pre>

<p>While these work, no one really uses them, as there exist less verbose and more common alternatives. Use these instead, which are exactly equal to the above code:</p>

<pre><code class="language-js">var obj  = {};
var arr  = [];
var func = function(param1, param1) {return true;}
</code></pre>

<h3 id="alert">alert()</h3>

<p>Ok, alert can sometimes still be useful for debugging, but generally you want to use console.log for that anyway. Generally you don&rsquo;t want to ever prompt the user with alert() however. Its use on the desktop for mainstream use has long been discouraged.</p>

<p>I&rsquo;m still on the fence about using alert() however, as I think it&rsquo;s pretty useful and not necessarily ugly in mobile browsers. I&rsquo;ll spare you and save that for another post.</p>

<h3 id="missing-semicolons">Missing semicolons</h3>

<pre><code class="language-js">var name='Bill'
alert('Hi ' + name)
</code></pre>

<p>The above code works fine because of a controversial feature of JavaScript called semicolon insertion. But doesn&rsquo;t it make you feel dirty? It should, especially if you&rsquo;ve read JavaScript: The Good Parts. Use semicolons for your own good and to prevent major headaches. Leave it to your JavaScript minifier to be clever in deciding when to remove them:</p>

<pre><code class="language-js">var name='Bill';
alert('Hi ' + name);
</code></pre>

<h3 id="code-for-particular-user-agents">Code for particular user agents</h3>

<p>This is also a bit controversial, since unfortunately user agent sniffing is still sometimes necessary. However, in the past it was really abused with code such as this:</p>

<pre><code class="language-js">isIE  = document.all;
isNS4 = document.layers;
isNS6 = document.getElementById;
if(isIE) {
  // code for IE
} else if(isNS4) {
  // code for Netscape 4
} else if(isNS6) {
  // code for Netscape 6
}
</code></pre>

<p>(did I mention that any references to ancient browsers like Netscape is also a surefire sign of old code? But that&rsquo;s probably too obvious&hellip;)</p>

<p>This example detects browsers by features that only exist in each of these old browsers, but the same sin is committed by &ldquo;sniffing&rdquo; for words in the user agent string. The unfortunate result is fragmented code targeting each predetermined browser. Not to mention that it&rsquo;s not future-proof, as it can&rsquo;t properly anticipate newer browsers.</p>

<p>The better method? If there&rsquo;s a question about the availability of a method, simply check for it first before using it:</p>

<pre><code class="language-js">if(document.addEventListener) {  // detect addEventListener
  // Try the standard first
  document.addEventListener('click', function(){}, false);
} else if(document.attachEvent) {  // detect attachEvent
  // Typically IE
  document.attachEvent('onclick', function(){});
}
</code></pre>

<p>This code is considered feature detection, which is much more acceptable. It also anticipates newer browsers such as IE9, which support addEventListener. This makes sure the code you write doesn&rsquo;t condemn Internet Explorer to forever use attachEvent.</p>

<h3 id="related-links">Related links</h3>

<p>Christian Heilmann and PPK&rsquo;s old posts inspired me to write this brief post. You can read much better rationale against using some of the things above at these links:</p>

<p><a href="http://www.wait-till-i.com/2005/06/21/six-javascript-features-we-do-not-need-any-longer/">Six JavaScript features we do not need any longer (Christian Heilmann, 2005)</a></p>

<p><a href="http://icant.co.uk/articles/from-dhtml-to-dom/from-dhtml-to-dom-scripting.html">From DHTML to DOM scripting (Christian Heilmann, 2006)</a></p>

<p><a href="http://www.quirksmode.org/blog/archives/2005/06/three_javascrip_1.html">Three JavaScript articles and one best practice (PPK 2005)</a></p>
</div>

    
    

    

    

        <h4 class="page-header">Comments</h4>

        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "davidbcalhoun" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    

</main>

        <footer role="contentinfo">

            <p class="copyright text-muted">©<span itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="David Calhoun"><a href="https://themaingate.net/">David Calhoun</a></span></p>

        </footer>
       
    </body>

</html>

